# IDλ΅ νΉμ • κ²μ‹λ¬Ό κ°€μ Έμ¤κΈ°

- IDλ¥Ό μ΄μ©ν•΄μ„ νΉμ • κ²μ‹λ¬Όμ„ κ°€μ Έμ¤λ” κΈ°λ¥μ„ κµ¬ν„
- Service β†’ Controller μμ„λ΅ κµ¬ν„

---

## 1. Serviceμ—μ„ getBoardById λ©”μ„λ“ κµ¬ν„

### 1.1 κΈ°λ³Έ κµ¬ν„ (μμ™Έμ²λ¦¬ μ—†μ)

```ts
getBoardById(id: string): Board {
  return this.boards.find((board) => board.id === id);
}
```

**ν„μ¬ μƒν™©:**

- ν•΄λ‹Ή IDμ κ²μ‹λ¬Όμ΄ **μ΅΄μ¬ν•λ©΄**: Board κ°μ²΄λ¥Ό λ°ν™
- ν•΄λ‹Ή IDμ κ²μ‹λ¬Όμ΄ **μ΅΄μ¬ν•μ§€ μ•μΌλ©΄**: `undefined`λ¥Ό λ°ν™

### 1.2 λ¬Έμ μ  λ¶„μ„

**1. νƒ€μ… λ¶μΌμΉ**

- λ©”μ„λ“λ” `Board`λ¥Ό λ°ν™ν•λ‹¤κ³  μ„ μ–Έν–μ§€λ§, μ‹¤μ λ΅λ” `Board | undefined`λ¥Ό λ°ν™ν•  μ μμ

**2. ν΄λΌμ΄μ–ΈνΈ νΌλ€**

- ν΄λΌμ΄μ–ΈνΈκ°€ `undefined`λ¥Ό λ°›μΌλ©΄ ν•΄λ‹Ή κ²μ‹λ¬Όμ΄ μ—†λ‹¤λ” κ²ƒμ„ μ• μ μ—†μ

**3. λ°νƒ€μ„ μ—λ¬ κ°€λ¥μ„±**

- ν΄λΌμ΄μ–ΈνΈμ—μ„ `undefined`λ¥Ό Board κ°μ²΄λ΅ μ‚¬μ©ν•λ ¤κ³  ν•λ©΄ μ—λ¬ λ°μƒ

### 1.3 μμ™Έμ²λ¦¬λ¥Ό μ¶”κ°€ν•λ” μ΄μ 

**1. λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€ μ κ³µ**

- "ν•΄λ‹Ή κ²μ‹λ¬Όμ„ μ°Ύμ„ μ μ—†μµλ‹λ‹¤" κ°™μ€ κµ¬μ²΄μ μΈ λ©”μ‹μ§€

**2. HTTP μƒνƒ μ½”λ“λ΅ 404 Not Found μ‘λ‹µ**

- REST API ν‘μ¤€μ— λ§λ” μ μ ν• μƒνƒ μ½”λ“ λ°ν™

**3. ν΄λΌμ΄μ–ΈνΈκ°€ μ—λ¬ μƒν™©μ„ λ…ν™•ν μΈμ§€ κ°€λ¥**

- ν”„λ΅ νΈμ—”λ“μ—μ„ μ—λ¬ μ²λ¦¬λ¥Ό μ‰½κ² ν•  μ μμ

### 1.4 μμ™Έμ²λ¦¬ μ μ©λ μµμΆ… μ½”λ“

```ts
import { NotFoundException } from '@nestjs/common';

getBoardById(id: string): Board {
  // λ³€μλ…μ„ 'targetBoard'λ΅ λ…ν™•ν•κ² μ§€μ •
  const targetBoard = this.boards.find((board) => board.id === id);

  if (!targetBoard) {
    throw new NotFoundException(`Can't find Board with id ${id}`);
  }

  return targetBoard;
}
```

**μ½”λ“ μ„¤λ…:**

- `find()` λ©”μ„λ“λ΅ ν•΄λ‹Ή IDμ κ²μ‹λ¬Όμ„ μ°Ύμ
- `if (!targetBoard)`: κ²μ‹λ¬Όμ΄ μ—†μΌλ©΄ (undefinedμ΄λ©΄)
- `NotFoundException`: NestJSμ—μ„ μ κ³µν•λ” 404 μ—λ¬ ν΄λμ¤
- μ—λ¬ λ©”μ‹μ§€μ— IDλ¥Ό ν¬ν•¨ν•μ—¬ λ””λ²„κΉ…μ— λ„μ›€

---

## 2. Controllerμ—μ„ @Param λ°μ½”λ μ΄ν„° μ‚¬μ©

### 2.1 @Param() λ°μ½”λ μ΄ν„°λ€? π―

**ν•λ§λ””λ΅ μ •μ:**
URLμ— ν¬ν•¨λ νΉμ • κ°’(νλΌλ―Έν„°)μ„ κ°€μ Έμ¬ λ• μ‚¬μ©ν•λ” NestJS λ°μ½”λ μ΄ν„°μ…λ‹λ‹¤.

**μμ‹:**

- URL: `/boards/123`
- μ—¬κΈ°μ„ `123`μ΄λΌλ” ID κ°’μ„ κΊΌλ‚΄μ¤κ³  μ‹¶μ„ λ• μ‚¬μ©

**κΈ°μ μ  μ„¤λ…:**
μ”μ²­(Request) κ°μ²΄μ— λ“¤μ–΄μλ” `params` μ†μ„±μ—μ„ κ°’μ„ μ¶”μ¶ν•΄ μ»¨νΈλ΅¤λ¬ λ©”μ†λ“μ νλΌλ―Έν„°(λ§¤κ°λ³€μ)μ— λ„£μ–΄μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤.

### 2.2 μ‚¬μ© λ°©λ²• π“

**1. λ¨λ“  νλΌλ―Έν„° ν• λ²μ— κ°€μ Έμ¤κΈ°**

```ts
// μμ‹ URL: /boards/nestjs/123
findOne(@Param() params: string[])
```

- `@Param()` μ•μ— μ•„λ¬΄κ²ƒλ„ μ“°μ§€ μ•μΌλ©΄ URLμ λ¨λ“  νλΌλ―Έν„°λ¥Ό λ°°μ—΄μ΄λ‚ κ°μ²΄ ν•νƒλ΅ ν• λ²μ— λ°›μ•„μ΄
- μμ£Ό μ‚¬μ©λμ§€ μ•λ” λ°©μ‹

**2. νΉμ • νλΌλ―Έν„° ν•λ‚λ§ κ°€μ Έμ¤κΈ° (β­ κ°€μ¥ μΌλ°μ μΈ μ‚¬μ©λ²•)**

```ts
// μμ‹ URL: /boards/123
// μ»¨νΈλ΅¤λ¬μ—μ„ @Get('/:id') λ΅ κ²½λ΅λ¥Ό μ„¤μ •ν–μ„ κ²½μ°
findOne(@Param('id') id: string)
```

- `@Param('id')`μ²λΌ λ°μ½”λ μ΄ν„° μ•μ— ν‚¤(key) κ°’μ„ λ„£μ–΄μ£Όλ©΄, URLμ—μ„ ν•΄λ‹Ή ν‚¤μ— ν•΄λ‹Ήν•λ” κ°’λ§ μ •ν™•ν μ¶”μ¶
- `/boards/abcde`λ΅ μ”μ²­μ΄ μ¤λ©΄ `id` λ³€μμ—λ” `'abcde'`λΌλ” λ¬Έμμ—΄μ΄ λ‹΄κΉ€

### 2.3 Controller κµ¬ν„

```ts
import { Controller, Get, Param } from '@nestjs/common';
import { BoardsService } from './boards.service';
import { Board } from './board.model';

@Controller('boards')
export class BoardsController {
  constructor(private boardsService: BoardsService) {}

  // GET /boards/12345 μ™€ κ°™μ€ μ”μ²­μ„ μ²λ¦¬
  @Get('/:id')
  getBoardById(@Param('id') id: string): Board {
    // URLμ :id μλ¦¬μ— μλ '12345' κ°’μ΄ id λ³€μλ΅ λ“¤μ–΄μ¨λ‹¤.
    return this.boardsService.getBoardById(id);
  }
}
```

**μ½”λ“ μ„¤λ…:**

- `@Get('/:id')`: URL κ²½λ΅μ—μ„ `:id` λ¶€λ¶„μ„ λ™μ  νλΌλ―Έν„°λ΅ μ„¤μ •
- `@Param('id') id: string`: URLμ `:id` μλ¦¬μ— μλ” κ°’μ„ `id` λ³€μλ΅ μ¶”μ¶
- `string` νƒ€μ…μΌλ΅ λ°›μ•„μ„ Serviceμ— μ „λ‹¬

---

## 3. μ „μ²΄ νλ¦„ μ •λ¦¬

### 3.1 μ”μ²­ νλ¦„

```
ν΄λΌμ΄μ–ΈνΈ β†’ GET /boards/123 β†’ Controller β†’ Service β†’ Board κ°μ²΄ λ°ν™
```

### 3.2 μ—λ¬ μ²λ¦¬ νλ¦„

```
ν΄λΌμ΄μ–ΈνΈ β†’ GET /boards/999 β†’ Controller β†’ Service β†’ NotFoundException β†’ 404 μ—λ¬ μ‘λ‹µ
```

---

## 4. ν•µμ‹¬ μ •λ¦¬ β¨

### 4.1 @Param() λ°μ½”λ μ΄ν„°

- **λ©μ **: URL κ²½λ΅μ μΌλ¶€μΈ λ™μ μΈ κ°’(νλΌλ―Έν„°)μ„ κ°€μ Έμ¬ λ• μ‚¬μ©
- **μ‚¬μ©λ²•**: `@Param('ν‚¤')`λ΅ νΉμ • ν‚¤μ— ν•΄λ‹Ήν•λ” κ°’λ§ κ°€μ Έμ¤λ” λ°©μ‹μ΄ κ°€μ¥ λ§μ΄ μ‚¬μ©
- **ν™•μ¥μ„±**: νμ΄ν”„(Pipe)μ™€ ν•¨κ» μ‚¬μ©ν•λ©΄ μ ν¨μ„± κ²€μ‚¬λ‚ νƒ€μ… λ³€ν™ κ°€λ¥

### 4.2 μμ™Έμ²λ¦¬μ μ¤‘μ”μ„±

- **νƒ€μ… μ•μ •μ„±**: λ…ν™•ν• λ°ν™ νƒ€μ… λ³΄μ¥
- **μ‚¬μ©μ κ²½ν—**: κµ¬μ²΄μ μΈ μ—λ¬ λ©”μ‹μ§€ μ κ³µ
- **API ν‘μ¤€**: REST API ν‘μ¤€μ— λ§λ” HTTP μƒνƒ μ½”λ“ λ°ν™
- **λ””λ²„κΉ…**: μ—λ¬ μƒν™©μ„ μ‰½κ² νμ•…ν•  μ μμ

### 4.3 κ°λ° μμ„ κ¶μ¥μ‚¬ν•­

1. **κΈ°λ³Έ κΈ°λ¥ κµ¬ν„**: μμ™Έμ²λ¦¬ μ—†μ΄ λ™μ‘ ν™•μΈ
2. **μμ™Έμ²λ¦¬ μ¶”κ°€**: μ•μ •μ„±κ³Ό μ‚¬μ©μ κ²½ν— κ°μ„ 
3. **ν…μ¤νΈ**: λ‹¤μ–‘ν• μ‹λ‚λ¦¬μ¤λ΅ ν…μ¤νΈ

---
